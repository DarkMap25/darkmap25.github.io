/* ===  Variables de configuration (modifiable : hauteur en vh, tailles, couleurs‚Ä¶) === */

        :root {
          /* hauteurs des sections (total = 100vh) */
          --header-height: 22vh;
          --map-height:    64vh;
          --intro-height:  12vh;
          --footer-height:  2vh;
        
          /* typographies & couleurs */
          --header-h1-font-size:      6em;
          --header-h1-color:          #e60000;
          --header-h1-shadow:         0 0 6px #000000;
          --header-tagline-font-size: 1.6em;
          --intro-font-size:          1.2em;
          --footer-font-size:         0.8em;
        }


/* ===  PARTIE I / GENERAL / INTRODUCTION / STRUCTURE SITE === */


/* === I.1.1 Styles g√©n√©raux === */

              body {
                margin: 0; /* Suppression des marges par d√©faut */
                padding: 0; /* Suppression des espacements par d√©faut */
                background-color: #0d0d0d; /* Couleur de fond de secours si l'image √©choue */
                background-image: url('./icons/background.jpg'); /* Image de fond */
                background-size: cover; /* La taille de l'image couvre tout l'√©cran */
                background-position: center; /* L'image est centr√©e */
                background-repeat: no-repeat; /* L'image ne se r√©p√®te pas */
                background-attachment: scroll; /* Le fond d√©file avec la page (plus compatible mobile) */
                color: #f0f0f0; /* Couleur du texte */
                font-family: 'Quicksand', sans-serif; /* Police du texte */
                position: relative; /* Positionnement pour le calque noir transparent */
              }

/* === I.1.2 Calque noir transparent par-dessus l'image === */

              body::before {
                content: ""; /* Contenu vide pour un pseudo-√©l√©ment */
                position: fixed; /* Position fixe pour couvrir toute la fen√™tre */
                top: 0; /* Commence en haut de la page */
                left: 0; /* Commence √† gauche de la page */
                width: 100%; /* Prend toute la largeur de l'√©cran */
                height: 100%; /* Prend toute la hauteur de l'√©cran */
                background: rgba(0, 0, 0, 0.2); /* Calque noir avec transparence */
                z-index: -1; /* Placer ce calque derri√®re le contenu principal */
              }

/* === I.2.1 Overlay d‚Äôintro  === */

              #intro-overlay {
                position: fixed;           /* couvre tout l‚Äô√©cran */
                top: 0; left: 0;
                width: 100%; height: 100%;
                background-color: #0d0d0d; /* ton fond sombre */
                background-image: url('./icons/background.jpg');
                background-size: cover;
                background-position: center;
                background-attachment: fixed;
                display: block;
              }

                /* Calque noir semi-transparent AU-DESSUS du background de l‚Äôoverlay */
                #intro-overlay::before {
                  content: "";
                  position: absolute;      /* couvre tout #intro-overlay */
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 100%;
                  background: rgba(0, 0, 0, 0.2);
                  /* pas de z-index ici : par d√©faut il est derri√®re le contenu de #intro-overlay */
                }

              /* Conteneur pour positionner le header anim√© AU M√äME endroit que le header ¬´ r√©el ¬ª */
                    .overlay-header-container {
                          position: absolute;
                          top: 0;
                          left: 0;                             /* commence pile en haut √† gauche */
                          width: 100%;                         /* prend toute la largeur */
                          height: var(--header-height);        /* m√™me hauteur que <header> */
                          display: flex;                       /* m√™me flex que <header> */
                          flex-direction: column;
                          align-items: center;
                          justify-content: center;             /* centre verticalement */
                          text-align: center;
                          z-index: 1;
                        }
              
              /* === Titre statique ¬´ darkmap ¬ª === */
              .overlay-header-container .static-title {
                  margin: 0;
                  margin-bottom: 0em;
                  font-size: var(--header-h1-font-size);
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-weight: 900;
                  text-align: center;
                  color: var(--header-h1-color);
                  text-shadow: 0px 0px 4px rgba(255, 255, 224, 0.8), 1px 1px 0px rgba(255, 255, 224, 1);
              }
              
              /* === Texte anim√© ¬´ La Carte de France, version Dark ¬ª === */
              
              /* === Texte anim√© ‚ÄúLa carte de France, version Dark.‚Äù dans l‚Äôoverlay === */
                        #overlay-text {
                          /* Style identique √† header .tagline */
                          margin: 0;
                          font-size: var(--header-tagline-font-size);
                          color: #FFFFE0;
                          font-family: 'IM FELL ENGLISH SC', serif;
                          font-weight: 700;
                          line-height: 1;
                          display: inline-block;
                          text-align: center;
                          text-shadow:
                            0px 0px 4px rgba(230, 0, 0, 0.8),
                            1px 1px 0px rgba(230, 0, 0, 1);
                        /* Propri√©t√©s pour l‚Äôanimation ‚Äúmachine √† √©crire‚Äù */
                          white-space: nowrap;               /* pas de retour √† la ligne */
                          overflow: hidden;                  /* masque le texte non encore ‚Äútap√©‚Äù */
                          width: 0;                          /* d√©marre √† 0 pour l‚Äôanimation */
                          border-right: 2px solid rgba(230,0,0,0.75); /* curseur */
                          animation: typing 4s steps(33, end) forwards;
                        }
                        
                        /* Keyframes du ‚Äútyping‚Äù */
                        @keyframes typing {
                          from { width: 0ch; }
                          to   { width: 33ch; }
                        }
                                      
              /* === Fade-in carte, intro et footer apr√®s l‚Äôanimation === */
              #map,
              .intro,
              footer {
                opacity: 0;
                transition: opacity 5s ease-in-out;
              }

/* === I.3. Structure site === */

/* === I.3.2 Mise en page flex-colonne full viewport === */

              html, body {
                height: 100vh;
                margin: 0;
                padding: 0;
              }
              body {
                display: flex;
                flex-direction: column;
              }

/* === I.3.3 Hauteurs des sections principales === */

              header {
                height: var(--header-height);
                display: flex;
                justify-content: flex-start;  /* aligne en haut */  
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 0em;               /* espace entre le h1 et la .tagline */
                padding-top: 0;               /* aucun padding suppl√©mentaire */
              }

/* === I.3.4 Styles du header (titre + sous-titre) === */

                header h1 {
                  margin: 0;
                  margin-bottom: 0em;
                  font-size: var(--header-h1-font-size);
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-weight: 900;
                  text-align: center;
                  color: var(--header-h1-color);
                    text-shadow:
                    0px 0px 4px rgba(255, 255, 224, 0.8),  /* halo diffus semi-transparent */
                    1px 1px 0px rgba(255, 255, 224, 1);    /* ombre nette opaque */
                }
                
                header .tagline {
                  margin: 0;
                  font-size: var(--header-tagline-font-size);
                  color: #FFFFE0;
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-weight: 700;
                  margin-top: 0;                /* plus de marge au-dessus de la tagline */
                  line-height: 1;               /* compactage vertical */  
                  display: block;               /* s‚Äôassurer qu‚Äôelle n‚Äôest pas inline ou cach√©e */
                  text-align: center;
                      text-shadow: 
                    0px 0px 4px rgba(230, 0, 0, 0.8),          /* halo diffus rouge vif */
                    1px 1px 0px rgba(230, 0, 0, 1);             /* l√©g√®re ombre nette en d√©calage */
                }
                
                #map {
                  /* Petit espace au-dessus et en-dessous pour respirer */
                  margin: 2vh auto 0vh;
                  /* Ajuste la hauteur pour toujours faire 70vh visibles */
                  height: calc(var(--map-height) - 2vh);
                  width: 90vw;
                  border-radius: 20px;
                  box-shadow: 0 0 50px #e60000;
                  z-index: 1;
                }
                
                .intro {
                  /* m√™me largeur que la carte */
                  width: 80vw;
                  margin: 0.1vh auto 0;        /* 1vh au-dessus */
                  /* ton restyling */
                  height: var(--intro-height);
                  padding: 0 10px;
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-weight: 700;
                  color: #FFFFE0;
                  font-size: var(--intro-font-size);
                  text-shadow: var(--header-h1-shadow);
                  line-height: 1;
                  /* centrer chaque ligne de texte */
                  text-align: center;
                  /* retours √† la ligne automatiques */
                  white-space: normal;
                  overflow: auto;
                  margin-top: 10px;
                  margin-bottom: 10px;
                      text-shadow: 
                    0px 0px 4px rgba(230, 0, 0, 0.8),          /* halo diffus rouge vif */
                    1px 1px 0px rgba(230, 0, 0, 1);             /* l√©g√®re ombre nette en d√©calage */
                }  
                
                /* Assure-toi que l‚Äôintro ne masque pas le d√©bordement */
                .intro {
                  overflow: visible !important;
                }
                
                /* lien ‚Äúsugg√©rer des lieux‚Äù dans l‚Äôintro */
                .intro-submit {
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-weight: 900;  
                  text-decoration: underline;
                  cursor: pointer;
                  color: #e60000;
                  text-shadow: none !important;
                  transition: transform 0.2s ease;  /* rend l‚Äôanimation fluide */
                }

/* === I.3.5 Styles globaux du footer : largeur, centrage et d√©cor === */

              footer {
                display: flex;                   /* mise en page en colonne flex */
                flex-direction: column;          /* empilement vertical */
                align-items: center;             /* centrage horizontal */
                justify-content: center;         /* centrage vertical */
                width: 100%;                     /* prend toute la largeur */
                margin: 0 auto;                  /* centr√© dans la page */
                text-align: center;              /* centrage du texte */
                padding: 2px;                    /* espacement interne */
                font-family: 'IM FELL ENGLISH SC', serif;
                font-size: var(--footer-font-size);                /* taille de la police */
                line-height: 0.8;                  /* interligne */
                color: #E6E6FA;                  /* couleur du texte */
                text-shadow: var(--header-h1-shadow);
              }
              
              /* i. Reset et espacement des paragraphes dans le footer */
              footer p {
                margin: 0;                       /* suppression des marges par d√©faut */
                padding: 0;                      /* suppression du padding par d√©faut */
              }
              footer p:not(:first-child) {
                margin-top: 0.4em;               /* espacement entre chaque paragraphe */
              }
              
              /* ii. Mentions l√©gales : couleur fixe, gras et soulign√© pour tous les √©tats */
              footer a#mentionsLink,
              footer a#mentionsLink:visited,
              footer a#mentionsLink:hover,
              footer a#mentionsLink:active {
                color: #E6E6FA !important;        /* m√™me couleur que le footer */
                font-weight: bold !important;     /* toujours en gras */
                text-decoration: underline !important; /* toujours soulign√© */
              }

                /* iii. Bouton de fermeture unique */
                .overlay-close {
                  display: none;
                  position: fixed;
                  top: 1rem;
                  right: 1rem;
                  border: none;
                  background-color: #000000;
                  font-size: 2rem;
                  cursor: pointer;
                  z-index: 10003;
                  /* Transition pour l‚Äôeffet au survol */
                  transition: transform 0.2s ease, background-color 0.2s ease;
                }
                
                /* Au survol, on augmente √† 1.5 et on ajuste l√©g√®rement la couleur */
                .overlay-close:hover {
                  transform: scale(1.5);
                }                       

/* === PARTIE II / POP-UP / VOIR PLUS / SOUMETTRE === */


/* === II.1.1 Adaptation des popups Leaflet === */

                /* i. Le conteneur de la popup */
                .custom-popup .leaflet-popup-content-wrapper {
                  background: rgba(0, 0, 0, 0.8); /* fond semi-transparent sombre */
                  border: none;                                  /* suppression du contour rouge simple */
                  box-shadow: 0 0 50px #e60000;
                  border-radius: 8px;                            /* coins arrondis conserv√©s */
                  padding: 10px;                                 /* espace interne */
                }
                
                /* ii. Le texte √† l‚Äôint√©rieur */
                .custom-popup .leaflet-popup-content {
                  font-family: 'Im Fell English SC', serif;
                  font-size: 1.5em;                 /* ajuste la taille du texte */
                  line-height: 1.0;               /* espacement des lignes */
                  color: #FFFFE0;                 /* texte clair */
                  margin: 0;
                      text-shadow: 
                    0px 0px 4px rgba(230, 0, 0, 0.8),          /* halo diffus rouge vif */
                    1px 1px 0px rgba(230, 0, 0, 1);             /* l√©g√®re ombre nette en d√©calage */
                }
                
                /* iii. Le ‚Äútriangle‚Äù pointant sur le marqueur */
                .custom-popup .leaflet-popup-tip {
                  background: rgba(0, 0, 0, 0.8);
                }
                
                /* iv. Titre du popup (le <strong> dans popupContent) */
                .custom-popup .leaflet-popup-content strong {
                  display: block;             /* pour prendre toute la largeur */
                  font-size: 1.5em;           /* l√©g√®rement plus gros */
                  font-family: 'Im Fell English SC', serif;
                  font-weight: bold;          /* bien en gras */
                  color: #e60000;             /* rouge DarkMap */
                  text-align: center;         /* centr√© */
                  text-transform: uppercase; /* transforme en majuscule */
                  margin-bottom: 0em;       /* petit espace sous le titre */
                    text-shadow:
                    0px 0px 4px rgba(255, 255, 224, 0.8),  /* halo diffus semi-transparent */
                    1px 1px 0px rgba(255, 255, 224, 1);    /* ombre nette opaque */
                }
                
                /* v. Style sp√©cifique pour le lien ‚ÄúVoir plus‚Äù dans les popups */
                .custom-popup .voir-plus {
                  color: #e60000 !important;       /* m√™me rouge vif que le reste */
                  font-weight: bold !important;    /* gras */
                  text-decoration: underline !important; /* toujours soulign√© */
                  text-shadow: none !important;    /* supprime l‚Äôombre h√©rit√©e */
                }

/* === II.1.2 Scroll PopUP === */

                .custom-popup .leaflet-popup-content {
                  overflow-y: auto;    /* autorise le scroll vertical */
                  overflow-x: auto;  /* le scroll horizontal */
                  /* facultatif : pour une barre plus discr√®te */
                  scrollbar-width: thin;       /* Firefox */
                  scrollbar-color: #e60000 transparent;
                }
                
                /* Chrome, Edge, Safari */
                .custom-popup .leaflet-popup-content::-webkit-scrollbar {
                  width: 6px;
                }
                .custom-popup .leaflet-popup-content::-webkit-scrollbar-thumb {
                  background-color: #e60000;
                  border-radius: 3px;
                }
                .custom-popup .leaflet-popup-content::-webkit-scrollbar-track {
                  background: transparent;
                }

/* === II.2.1 VOIR PLUS : fullscreen uniquement quand ouvert === */

                /* i. Par d√©faut, on le cache et on ne d√©finit PAS sa hauteur ici */
                #detailPanel {
                  display: none;
                }

                /* Plein √©cran quand visible === */
                #detailPanel.visible {
                  display: block;           /* on passe de none √† block */
                  position: fixed;          /* au-dessus de tout */
                  top: 0;
                  left: 0;
                  width: 100vw;             /* largeur totale de la fen√™tre */
                  height: 100vh;            /* hauteur totale de la fen√™tre */
                  background-color: rgba(0, 0, 0, 0.9);
                  color: #fff;
                  z-index: 2000;
                  overflow: auto;           /* scroll si contenu trop long */
                }
                
                /* Un peu de padding quand on est en plein √©cran */
                #detailPanel.full-view {
                  padding: 2rem;
                }

/* === II.3 Submit Panel corrig√© === */

                /* 1) Overlay plein √©cran, cach√© par d√©faut */
                #submitPanel {
                  position: fixed;
                  top: 0;
                  left: 0;
                  width: 100vw;
                  height: 100vh;
                  background-image: url('./icons/submit.jpg');
                  background-size: cover;
                  background-position: center;
                  background-repeat: no-repeat;
                  overflow: hidden;      /* le scroll se fera uniquement dans #submitContent */
                  z-index: 10000;
                  display: none;         /* rendu visible uniquement quand on ajoute .visible */
                }
                
                /* 2) Affichage quand on ajoute .visible */
                #submitPanel.visible {
                  display: block;
                }
                
                /* 3) R√©initialiser la hauteur du header (globale de 22vh) */
               #submitPanel header {
                            height: auto !important;
                            margin: 0;
                            padding: 0;
                            background: transparent;
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            justify-content: center;
                            position: relative;
                            z-index: 10001;
                        }                
                /* 4) Placer le <h1> exactement √† 1rem du sommet, centr√©, avec ombre conserv√©e */
                                     #submitPanel header h1 {
                            margin: 0;
                            font-size: var(--header-h1-font-size);
                            font-family: 'IM FELL ENGLISH SC', serif;
                            font-weight: 900;
                            color: var(--header-h1-color);
                            text-shadow: 0px 0px 4px rgba(255, 255, 224, 0.8),
                                         1px 1px 0px rgba(255, 255, 224, 1);
                            text-align: center;
                            position: static; /* Changement ici */
                            top: auto;       /* Et ici */
                            left: auto;      /* Et ici */
                            transform: none; /* Et ici */
                            width: auto;     /* Et ici */
                            z-index: auto;   /* Et ici */
                            padding-top: 0rem; /* Ajoute un peu d'espace en haut */
                        }                
                /* 5)tagline  */
                                              #submitPanel header .tagline {
                                    display: block; /* Assure-toi qu'elle est affich√©e */
                                    margin: 1em;
                                    font-size: var(--header-tagline-font-size);
                                    color: #FFFFE0;
                                    font-family: 'IM FELL ENGLISH SC', serif;
                                    font-weight: 700;
                                    margin-top: 0;
                                    line-height: 1;
                                    text-align: center;
                                    text-shadow: 0px 0px 4px rgba(230, 0, 0, 0.8),
                                                 1px 1px 0px rgba(230, 0, 0, 1);
                                }                
                /* 6) Zone interne scrollable (#submitContent), commence juste sous le <h1> */
                                       #submitContent {
                            position: static; /* Changement ici */
                            top: auto;       /* Et ici */
                            bottom: auto;    /* Et ici */
                            left: auto;      /* Et ici */
                            right: auto;     /* Et ici */
                            overflow-y: auto;
                            padding: 1rem;
                        }                
                /* 7) Si jamais #submitContent contenait lui aussi un <header>, on neutralise sa hauteur */
                #submitContent header {
                  height: auto !important;
                  margin: 0;
                  padding: 0;
                  background: transparent;
                }
                
                /* 9) (Optionnel) Si vous aviez mis des r√®gles globales ‚Äúhtml, body { overflow: hidden; }‚Äù et que vous souhaitez que
                       la page globale puisse d√©filer, commentez ces lignes. Sinon, laissez-les d√©sactiv√©es (comment√©es) : */
                /*
                html, body {
                  margin: 0;
                  padding: 0;
                  // height: 100vh;
                  // overflow: hidden;
                }
                */

/* === II.4 STYLES SOUMETTRE INTERNE === */

                /* Styles pour les questions du formulaire de soumission */
                .ask-submit {
                  font-family: 'IM Fell English SC', serif;   /* police immersive */
                  font-weight: 700;                           /* gras */
                  font-size: 1.2em;                           /* taille souhait√©e */
                  color: #e60000;                             /* couleur rouge rappelant DarkMap */
                  text-shadow:    0px 0px 4px rgba(255, 255, 224, 0.8),  /* halo diffus semi-transparent */
                    1px 1px 0px rgba(255, 255, 224, 1);    /* ombre nette opaque */  
                  text-transform: uppercase;
                  margin: 0.2em 0.2em 0.2em;                        /* espacement vertical */
                }
                
                /* Cible uniquement les <small> dans les .ask-submit */
                #submitPanel .ask-submit small {
                  color: #FEEEE0;
                  font-family: 'IM Fell English SC', serif;   /* police immersive */
                  font-size: 0.8em;                           /* taille souhait√©e */
                  font-style: italic;  /* italique */  
                        text-shadow: 
                    0px 0px 4px rgba(230, 0, 0, 0.8),          /* halo diffus rouge vif */
                    1px 1px 0px rgba(230, 0, 0, 1);             /* l√©g√®re ombre nette en d√©calage */
                }
                
                /* 2-col layout pour le formulaire submit */
                .form-grid {
                  display: grid;
                  grid-template-columns: repeat(2, 1fr);
                  grid-gap: 1.5rem;
                }
                
                /* Chaque question+input dans sa propre ¬´ case ¬ª */
                .form-group {
                  display: flex;
                  flex-direction: column;
                }
                
                /* Champs qui occupent toute la largeur */
                .form-grid > .form-group[style*="grid-column"] {
                  grid-column: 1 / -1;
                }
                
                /* 1) On fixe le panel en full-screen */
                #submitPanel {
                  position: fixed;       /* colle le panel √† la fen√™tre */
                  background-image: url('./icons/bureau.jpg');
                  background-size: cover;
                  background-position: center;
                  background-repeat: no-repeat;
                  overflow: auto;  top: 0;
                  left: 0;
                  width: 100vw;          /* pleine largeur */
                  height: 100vh;         /* pleine hauteur */
                  overflow: hidden !important;
                  z-index: 10000;        /* au-dessus de tout */
                }
                
                /* Affiche le panel quand la classe .visible est appliqu√©e */
                #submitPanel.visible {
                  display: block;
                }
                
                /* 2) (Optionnel) si tu veux un scroll interne pour le contenu */
                #submitContent {
                  position: absolute;
                  top: 3rem;             /* laisse de la place pour la croix */
                  bottom: 0;
                  left: 0;
                  right: 0;
                  overflow-y: auto;      /* scroll vertical si n√©cessaire */
                  padding: 1rem;
                }
                
                /* Responsive : 1 colonne sous 768px */
                @media (max-width: 768px) {
                  .form-grid {
                    grid-template-columns: 1fr;
                  }
                }

/* === II.4.2 Styles g√©n√©raux pour les champs <input> et <textarea> de classe .form-input === */

                input.form-input,
                textarea.form-input {
                  /* i. Le texte √† l‚Äôint√©rieur */
                  /* On reprend la m√™me police, taille, interligne et ombre que pour la popup Leaflet */
                  font-family: 'Im Fell English SC', serif;
                  font-size: 1.5em;             /* ajuste la taille du texte */
                  line-height: 1.0;             /* espacement des lignes */
                  color: #FFFFE0;               /* texte clair (jaune tr√®s p√¢le) */
                  margin: 0;                    /* pas de marge interne au composant */
                  text-shadow:
                    0px 0px 4px rgba(230, 0, 0, 0.8),  /* halo diffus rouge vif */
                    1px 1px 0px rgba(230, 0, 0, 1);    /* l√©g√®re ombre nette en d√©calage */
                
                  /* ii. Le fond sombre et le contour lumineux (wrapper) */
                  background: rgba(0, 0, 0, 0.8); /* fond semi-transparent sombre */
                  border: none;                   /* suppression du contour rouge simple */
                  box-shadow: 0 0 50px #e60000;   /* grand halo rouge autour du champ */
                  border-radius: 8px;             /* coins arrondis identiques √† la popup */
                
                  /* iii. Gestion de la taille et du d√©filement (scroll) */
                  width: 100%;                    /* le champ remplit la largeur du conteneur parent */
                  max-width: 600px;               /* largeur maximale personnalisable */
                  /* Hauteur de base (pour <input>), mais on peut ramener √† auto si besoin */
                  height: 2.5em;                  
                  padding: 10px;                  /* espace int√©rieur √©quivalent √† la popup */
                  box-sizing: border-box;         /* inclut padding et bordure dans la largeur/hauteur */
                
                  overflow-y: auto;               /* si le texte d√©passe (surtout pour <textarea>), on peut d√©filer verticalement */
                  resize: vertical;               /* si c‚Äôest un <textarea>, on autorise le redimensionnement vertical */
                }
                
                /* iv. text-area */
                textarea.form-input {
                  min-height: 8em;               /* hauteur minimale pour laisser respirer le texte */
                  /* Si le contenu d√©passe, la scrollbar verticale appara√Ætra */
                  overflow-y: auto;
                }
                
                input.form-input::placeholder,
                textarea.form-input::placeholder {
                  color: #aaa;   /* gris clair pour le texte indicatif */
                  opacity: 1;    /* s‚Äôassurer que c‚Äôest pleinement visible */
                }

/* === II.4.3 CORRECTIONS SOUMETTRE === */

                /* 1) Forcer html/body en plein √©cran sans marges ni scroll global */
                html, body {
                  margin: 0;
                  padding: 0;
                  height: 100vh;
                  overflow: hidden;
                }
                

/* === PARTIE III / PERSONNALISATION BOUTONS / STYLES === */


/* === III.1.1 PERSONNALISATION DU BOUTON DE CHANGEMENT DE CARTE (Contr√¥le Leaflet) === */

                .leaflet-control-layers {
                  color: #1a001a; /* texte sombre pour le contraste */
                  font-family: 'Quicksand', sans-serif; font-weight: 700;  
                }

/* === III.1.2 PERSONNALISATION DU BOUTON DE LOCALISATION (Emoji Direct Hit Visible et Cliquable) === */

                  .leaflet-control-locate {
                    background-color: transparent !important; /* Fond transparent */
                    border: none !important; /* Pas de bordure */
                    padding: 0 !important; /* Pas de rembourrage */
                    width: auto !important; /* Ajuster la largeur au contenu */
                    height: auto !important; /* Ajuster la hauteur au contenu */
                    cursor: pointer; /* Curseur "main" */
                    text-align: center !important; /* Centrer l'emoji */
                    overflow: visible !important; /* Emp√™cher d√©bordement */
                    display: flex !important; /* Utiliser flex pour centrer */
                    justify-content: center !important; /* Centrage horizontal */
                    align-items: center !important; /* Centrage vertical */
                  }
                  
                  .leaflet-control-locate .leaflet-bar-part-single {
                    background-color: transparent !important;
                    border: none !important;
                    padding: 0px !important; /* Un peu de padding pour l'interaction */
                    width: auto !important;
                    height: auto !important;
                    cursor: pointer;
                    text-align: center !important;
                    font-size: 2.5em !important; /* Taille de l'emoji */
                    line-height: 1 !important; /* Centrage vertical */
                    color: inherit !important; /* IMPORTANT : H√©riter de la couleur pour rendre l'emoji visible */
                    text-shadow: none !important;
                    display: flex !important; /* Utiliser flex pour centrer */
                    justify-content: center !important; /* Centrage horizontal */
                    align-items: center !important; /* Centrage vertical */
                  }
                  
                  /* i. Afficher l'emoji comme contenu de l'√©l√©ment <a>  */
                  .leaflet-control-locate .leaflet-bar-part-single::before {
                    content: "üéØ" !important; /* Emoji direct hit */
                    display: block !important; /* Important pour que le pseudo-√©l√©ment prenne de la place */
                    width: 100%;
                    height: 100%;
                    line-height: inherit !important; /* H√©riter pour le centrage vertical */
                    font-size: inherit !important; /* H√©riter de la taille d√©finie sur l'<a> */
                    text-align: center !important; /* S'assurer que l'emoji est centr√© */
                    transition: transform 0.2s ease;  /* Animation douce */  
                    /* On ne d√©finit pas de couleur ici, on h√©rite de celle de l'√©l√©ment <a> */
                  }
                  
                  .leaflet-control-locate .leaflet-bar-part-single:hover::before {
                    transform: scale(1.5); /* ‚úÖ effet de grossissement uniquement au survol */
                  }

/* === III.1.3 PERSONNALISATION DU BOUTON DE CHANGEMENT DE FOND DE CARTE AVEC UN EMOJI üó∫Ô∏è === */

                .leaflet-control-layers-toggle {
                  background-color: transparent !important;
                  background-image: none !important;
                  width: auto !important;
                  height: auto !important;
                  border: none !important;
                  font-size: 2.5em !important;
                  line-height: 1 !important;
                  display: flex !important;
                  justify-content: center !important;
                  align-items: center !important;
                  cursor: pointer;
                  color: inherit !important;
                  z-index: 1000 !important;
                }
                
                .leaflet-control-layers-toggle::before {
                  content: "üó∫Ô∏è";
                  display: block;
                  font-size: inherit;
                }

/* === III.1.4 PERSONNALISATION DU BOUTON DE / FULLSCREEN / SOUMETTRE === */

                #randomButton {
                    background-color: transparent !important;
                    border: none !important;
                    padding: 0px !important;
                    width: auto !important;
                    height: auto !important;
                    cursor: pointer;
                    text-align: center !important;
                    font-size: 2.5em !important; /* m√™me que üéØ */
                    line-height: 1 !important;
                    color: inherit !important;
                    text-shadow: none !important;
                    display: flex !important;
                    justify-content: center !important;
                    align-items: center !important;
                    /* Suppression de la marge ici, le positionnement se fera via Leaflet */
                    overflow: visible !important; /* üî• emp√™che le rognage */
                    transition: transform 0.2s ease; /* Ajout de la transition pour l'effet au survol */
                }
                
                #randomButton:hover {
                    transform: scale(1.5);
                }
                
                #fullscreenButton {
                    background-color: transparent !important;
                    border: none !important;
                    padding: 0px !important;
                    width: auto !important;
                    height: auto !important;
                    cursor: pointer;
                    text-align: center !important;
                    font-size: 2.5em !important;
                    line-height: 1 !important;
                    color: inherit !important;
                    text-shadow: none !important;
                    display: flex !important;
                    justify-content: center !important;
                    align-items: center !important;
                    overflow: visible !important;
                    transition: transform 0.2s ease;
                }
                
                #fullscreenButton:hover {
                    transform: scale(1.5);
                }

/* === III.1.4 bis ‚Äì Personnalisation de l‚Äôemoji üìú en bas √† droite === */

                  /* 1) Autorise le d√©bordement pour ne pas rogner la mise √† l‚Äô√©chelle */
                  .leaflet-control-container,
                  .leaflet-bar {
                    overflow: visible !important;
                  }
                  
                  /* 2) Cible le conteneur bottom-right natif de Leaflet */
                  .leaflet-bottom.leaflet-right {
                    display: block !important;   /* bloque le flex par d√©faut pour un stacking simple */
                  }
                  
                  /* 3) Style identique au fullscreenButton pour le contr√¥le submit-story */
                  .leaflet-bottom.leaflet-right .submit-story-control {
                    background-color: transparent !important;
                    border: none !important;
                    padding: 0 !important;
                    width: auto !important;
                    height: auto !important;
                    cursor: pointer;
                    text-align: center !important;
                    font-size: 2.5em !important;     /* m√™me taille que üéØ, üó∫Ô∏è, Random‚Ä¶ */
                    line-height: 1 !important;
                    color: inherit !important;
                    text-shadow: none !important;
                    display: flex !important;
                    justify-content: center !important;
                    align-items: center !important;
                    transition: transform 0.2s ease;
                    margin-bottom: 0.5em !important; /* espace exactement identique avec fullscreen */
                  }
                  
                  /* 4) Hover = scale(1.5) */
                  .leaflet-bottom.leaflet-right .submit-story-control:hover {
                    transform: scale(1.5);
                  }

/* === III.2 STYLES DIVERSES === */

/* === III.2.1 Marqueurs emoji === */

                .emoji-marker {
                  font-size: 16px; /* Taille des marqueurs emoji */
                  background: none; /* Pas de fond */
                  border: none; /* Pas de bordure */
                  box-shadow: none; /* Pas d'ombre */
                  width: auto; /* Taille automatique */
                  height: auto; /* Taille automatique */
                  line-height: 1; /* Hauteur de ligne pour centrer */
                  color: inherit; /* Couleur h√©rit√©e du parent */
                }

                /* i. On vise le conteneur de l‚Äôemoji et on pr√©pare une transition fluide */
                .emoji-marker {
                  display: inline-block;           /* n√©cessaire pour que transform fonctionne correctement */
                  transform-origin: center center; /* pivote et agrandit depuis le centre */
                  transition: transform 0.2s ease; /* lissage de l‚Äôanimation */
                }
                
                /* ii. Au survol, on augmente la taille √† 1.5√ó */
                .emoji-marker:hover {
                  transform: scale(1.5);
                }
                
/* === III.2.2 Style pour la l√©gende sans ombre et coins arrondis === */

                .info.legend {
                  color: #FFFFE0;  /* Couleur */
                  padding: 0px;  /* Espace interne autour du texte */
                  font-size: 16px;  /* Taille du texte */
                  font-family: 'Im Fell English SC', serif;
                  line-height: 1.0;  /* Hauteur de ligne pour am√©liorer la lisibilit√© */
                    text-shadow: 
                    0px 0px 4px rgba(230, 0, 0, 0.8),          /* halo diffus rouge vif */
                    1px 1px 0px rgba(230, 0, 0, 1);             /* l√©g√®re ombre nette en d√©calage */
                }
                
                /* i. Style pour chaque √©l√©ment de la l√©gende */
                .legend-item {
                  display: flex;
                  align-items: center;
                  margin-bottom: 4px;
                }
                
                /* ii. Style pour l'emoji dans la l√©gende */
                .legend-item .emoji {
                  font-size: 16px;
                  margin-right: 2px;
                }
                
                /* iii. Style pour le nom de la cat√©gorie */
                .legend-item .category-name {
                  font-size: 16px;
                  font-weight: bold;
                }

/* === III.2.3 Positionnement des contr√¥les en haut √† droite === */

                .leaflet-topright {
                    display: flex; /* Utiliser flex pour aligner les √©l√©ments verticalement */
                    flex-direction: column; /* Aligner les √©l√©ments en colonne */
                    align-items: flex-end; /* Aligner les √©l√©ments √† droite */
                    gap: 10px; /* Espacement vertical entre les boutons */
                    padding: 10px; /* Marge autour du groupe de boutons */
                }
                
                .leaflet-control-custom {
                    overflow: visible !important; /* üî• Leaflet limite parfois la taille √† cause de √ßa */
                }


/* === PARTIE IV / ADAPTATIONS === */


/* === IV.1 Adaptation pour √©crans jusqu‚Äô√† 768px === */

              @media (max-width: 768px) {
                /* ‚Äî Fond mobile (image diff√©rente, rogn√©e et d√©filante) */
                body {
                  background-image: url('./icons/background.jpg');
                  background-size: cover;
                  background-position: center center;
                  background-attachment: scroll;
                }
              
                /* i. Carte : hauteur r√©duite, centr√©e et coins arrondis */
                #map {
                  height: 66vh;
                  max-width: 90%;
                  margin: 0 auto;
                }
              
                /* ii. Titre principal : taille r√©duite */
                h1 {
                  font-size: 1.5em;
                }
              
                /* iii. Texte d‚Äôintroduction : taille r√©duite et marges ajust√©es */
                .intro {
                  font-size: 0.8em;
                  margin: 20px auto;
                }
              
                /* iv. Conteneur de l‚Äôintro : taille de police encore plus petite */
                #intro-text {
                  font-size: 1.0em;
                }
              
                /* v. Popups Leaflet : largeur et typographie adapt√©es */
                .leaflet-popup-content-wrapper {
                  max-width: 334px !important;
                }
                .leaflet-popup-content,
                .leaflet-popup-content * {
                  font-size: 1.0em !important;
                  line-height: 1.0 !important;
                }
              }

/* === IV.2 Adaptation pour √©crans jusqu‚Äô√† 480px === */

              @media (max-width: 480px) {
                /* i. Fond tr√®s petit √©cran (m√™mes r√©glages que pour 768px) */
                body {
                  background-image: url('./icons/background.jpg');
                  background-size: cover;
                  background-position: center center;
                  background-attachment: scroll;
                }
              
                /* ii. Carte : largeur fixe, sans ombre pour all√©ger l‚Äôaffichage */
                #map {
                  height: 66vh;
                  width: 90%;
                  margin: 0 auto;
                }
              
                /* iv. Titre principal : m√™me taille que pour 768px */
                h1 {
                  font-size: 1.5em;
                }
              
                /* v. Texte d‚Äôintroduction : taille encore r√©duite */
                .intro {
                  font-size: 0.5em;
                }
              
                /* vi. Conteneur de l‚Äôintro : taille minimale */
                #intro-text {
                  font-size: 1.0em;
                }
              
                /* vii. Popups Leaflet : largeur et typographie pour petits √©crans */
                .leaflet-popup-content-wrapper {
                  max-width: 240px !important;
                }
                .leaflet-popup-content,
                .leaflet-popup-content * {
                  font-size: 10px !important;
                  line-height: 1 !important;
                }
              }

/* === IV.3 Surcharge de carte r√©gl√©e en dernier pour prendre le pas === */

              body > #map {
                height: var(--map-height) !important;  /* prendra comme d√©fini dans :root */
              }
