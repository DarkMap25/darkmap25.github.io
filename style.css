/* ===  Variables de configuration (modifiable : hauteur en vh, tailles, couleurs‚Ä¶) === */

        :root {
          /* hauteurs des sections (total = 100vh) */
          --header-height: 22vh;
          --map-height:    64vh;
          --intro-height:  12vh;
          --footer-height:  2vh;
        
          /* typographies & couleurs */
          --header-h1-font-size:      6em;
          --header-h1-color:          #e60000;
          --header-h1-shadow:         0 0 6px #000000;
          --header-tagline-font-size: 1.6em;
          --intro-font-size:          1.2em;
          --footer-font-size:         0.8em;
        }


/* ===  PARTIE I / GENERAL / INTRODUCTION / STRUCTURE SITE === */


/* === I.1.1 Styles g√©n√©raux === */

              body {
                margin: 0; /* Suppression des marges par d√©faut */
                padding: 0; /* Suppression des espacements par d√©faut */
                background-color: #0d0d0d; /* Couleur de fond de secours si l'image √©choue */
                background-image: url('icons/background.jpg'); /* Image de fond */
                background-size: cover; /* La taille de l'image couvre tout l'√©cran */
                background-position: center; /* L'image est centr√©e */
                background-repeat: no-repeat; /* L'image ne se r√©p√®te pas */
                background-attachment: scroll; /* Le fond d√©file avec la page (plus compatible mobile) */
                color: #f0f0f0; /* Couleur du texte */
                font-family: 'Quicksand', sans-serif; /* Police du texte */
                position: relative; /* Positionnement pour le calque noir transparent */
              }

/* === I.1.2 Calque noir transparent par-dessus l'image === */

              body::before {
                content: ""; /* Contenu vide pour un pseudo-√©l√©ment */
                position: fixed; /* Position fixe pour couvrir toute la fen√™tre */
                top: 0; /* Commence en haut de la page */
                left: 0; /* Commence √† gauche de la page */
                width: 100%; /* Prend toute la largeur de l'√©cran */
                height: 100%; /* Prend toute la hauteur de l'√©cran */
                background: rgba(0, 0, 0, 0.2); /* Calque noir avec transparence */
                z-index: -1; /* Placer ce calque derri√®re le contenu principal */
              }

/* === I.2.1 Overlay d‚Äôintro  === */

              #intro-overlay {
                position: fixed;           /* couvre tout l‚Äô√©cran */
                top: 0; left: 0;
                width: 100%; height: 100%;
                background-color: #0d0d0d; /* ton fond sombre */
                background-image: url('./icons/background.jpg');
                background-size: cover;
                background-position: center;
                background-attachment: fixed;
                display: block;
              }

                /* Calque noir semi-transparent AU-DESSUS du background de l‚Äôoverlay */
                #intro-overlay::before {
                  content: "";
                  position: absolute;      /* couvre tout #intro-overlay */
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 100%;
                  background: rgba(0, 0, 0, 0.2);
                  /* pas de z-index ici : par d√©faut il est derri√®re le contenu de #intro-overlay */
                }

              /* Conteneur pour positionner le header anim√© AU M√äME endroit que le header ¬´ r√©el ¬ª */
                    .overlay-header-container {
                          position: absolute;
                          top: 0;
                          left: 0;                             /* commence pile en haut √† gauche */
                          width: 100%;                         /* prend toute la largeur */
                          height: var(--header-height);        /* m√™me hauteur que <header> */
                          display: flex;                       /* m√™me flex que <header> */
                          flex-direction: column;
                          align-items: center;
                          justify-content: center;             /* centre verticalement */
                          text-align: center;
                          z-index: 1;
                        }
              
              /* === Titre statique ¬´ darkmap ¬ª === */
              .overlay-header-container .static-title {
                  margin: 0;
                  margin-bottom: 0em;
                  font-size: var(--header-h1-font-size);
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-weight: 900;
                  text-align: center;
                  color: var(--header-h1-color);
                  text-shadow: 0px 0px 4px rgba(255, 255, 224, 0.8), 1px 1px 0px rgba(255, 255, 224, 1);
              }
              
              /* === Texte anim√© ¬´ La Carte de France, version Dark ¬ª === */
              
              /* === Texte anim√© ‚ÄúLa carte de France, version Dark.‚Äù dans l‚Äôoverlay === */
                        #overlay-text {
                          /* Style identique √† header .tagline */
                          margin: 0;
                          font-size: var(--header-tagline-font-size);
                          color: #FFFFE0;
                          font-family: 'IM FELL ENGLISH SC', serif;
                          font-weight: 700;
                          line-height: 1;
                          display: inline-block;
                          text-align: center;
                          text-shadow:
                            0px 0px 4px rgba(230, 0, 0, 0.8),
                            1px 1px 0px rgba(230, 0, 0, 1);
                        /* Propri√©t√©s pour l‚Äôanimation ‚Äúmachine √† √©crire‚Äù */
                          white-space: nowrap;               /* pas de retour √† la ligne */
                          overflow: hidden;                  /* masque le texte non encore ‚Äútap√©‚Äù */
                          width: 0;                          /* d√©marre √† 0 pour l‚Äôanimation */
                          border-right: 2px solid rgba(230,0,0,0.75); /* curseur */
                          animation: typing 4s steps(33, end) forwards;
                        }
                        
                        /* Keyframes du ‚Äútyping‚Äù */
                        @keyframes typing {
                          from { width: 0ch; }
                          to   { width: 33ch; }
                        }
                                      
              /* === Fade-in carte, intro et footer apr√®s l‚Äôanimation === */
              #map,
              .intro,
              footer {
                opacity: 0;
                transition: opacity 5s ease-in-out;
              }

/* === I.3. Structure site === */

/* === I.3.2 Mise en page flex-colonne full viewport === */

              html, body {
                height: 100vh;
                margin: 0;
                padding: 0;
              }
              body {
                display: flex;
                flex-direction: column;
              }

/* === I.3.3 Hauteurs des sections principales === */

              header {
                height: var(--header-height);
                display: flex;
                justify-content: flex-start;  /* aligne en haut */  
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 0em;               /* espace entre le h1 et la .tagline */
                padding-top: 0;               /* aucun padding suppl√©mentaire */
              }

/* === I.3.4 Styles du header (titre + sous-titre) === */

                header h1 {
                  margin: 0;
                  margin-bottom: 0em;
                  font-size: var(--header-h1-font-size);
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-weight: 900;
                  text-align: center;
                  color: var(--header-h1-color);
                    text-shadow:
                    0px 0px 4px rgba(255, 255, 224, 0.8),  /* halo diffus semi-transparent */
                    1px 1px 0px rgba(255, 255, 224, 1);    /* ombre nette opaque */
                }
                
                header .tagline {
                  margin: 0;
                  font-size: var(--header-tagline-font-size);
                  color: #FFFFE0;
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-weight: 700;
                  margin-top: 0;                /* plus de marge au-dessus de la tagline */
                  line-height: 1;               /* compactage vertical */  
                  display: block;               /* s‚Äôassurer qu‚Äôelle n‚Äôest pas inline ou cach√©e */
                  text-align: center;
                      text-shadow: 
                    0px 0px 4px rgba(230, 0, 0, 0.8),          /* halo diffus rouge vif */
                    1px 1px 0px rgba(230, 0, 0, 1);             /* l√©g√®re ombre nette en d√©calage */
                }
                
                #map {
                  /* Petit espace au-dessus et en-dessous pour respirer */
                  margin: 2vh auto 0vh;
                  /* Ajuste la hauteur pour toujours faire 70vh visibles */
                  height: calc(var(--map-height) - 2vh);
                  width: 90vw;
                  border-radius: 20px;
                  box-shadow: 0 0 50px #e60000;
                  z-index: 1;
                }
                
                .intro {
                  /* m√™me largeur que la carte */
                  width: 80vw;
                  margin: 0.1vh auto 0;        /* 1vh au-dessus */
                  /* ton restyling */
                  height: var(--intro-height);
                  padding: 0 10px;
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-weight: 700;
                  color: #FFFFE0;
                  font-size: var(--intro-font-size);
                  text-shadow: var(--header-h1-shadow);
                  line-height: 1;
                  /* centrer chaque ligne de texte */
                  text-align: center;
                  /* retours √† la ligne automatiques */
                  white-space: normal;
                  overflow: auto;
                  margin-top: 10px;
                  margin-bottom: 10px;
                      text-shadow: 
                    0px 0px 4px rgba(230, 0, 0, 0.8),          /* halo diffus rouge vif */
                    1px 1px 0px rgba(230, 0, 0, 1);             /* l√©g√®re ombre nette en d√©calage */
                }  
                
                /* Assure-toi que l‚Äôintro ne masque pas le d√©bordement */
                .intro {
                  overflow: visible !important;
                }
                
                /* lien ‚Äúsugg√©rer des lieux‚Äù dans l‚Äôintro */
                .intro-submit {
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-weight: 900;  
                  text-decoration: underline;
                  cursor: pointer;
                  color: #e60000;
                  text-shadow: none !important;
                  transition: transform 0.2s ease;  /* rend l‚Äôanimation fluide */
                }

/* === I.3.5 Styles globaux du footer : largeur, centrage et d√©cor === */

              footer {
                display: flex;                   /* mise en page en colonne flex */
                flex-direction: column;          /* empilement vertical */
                align-items: center;             /* centrage horizontal */
                justify-content: center;         /* centrage vertical */
                width: 100%;                     /* prend toute la largeur */
                margin: 0 auto;                  /* centr√© dans la page */
                text-align: center;              /* centrage du texte */
                padding: 2px;                    /* espacement interne */
                font-family: 'IM FELL ENGLISH SC', serif;
                font-size: var(--footer-font-size);                /* taille de la police */
                line-height: 0.8;                  /* interligne */
                color: #E6E6FA;                  /* couleur du texte */
                text-shadow: var(--header-h1-shadow);
              }
              
              /* i. Reset et espacement des paragraphes dans le footer */
              footer p {
                margin: 0;                       /* suppression des marges par d√©faut */
                padding: 0;                      /* suppression du padding par d√©faut */
              }
              footer p:not(:first-child) {
                margin-top: 0.4em;               /* espacement entre chaque paragraphe */
              }
              
              /* ii. Mentions l√©gales : couleur fixe, gras et soulign√© pour tous les √©tats */
              footer a#mentionsLink,
              footer a#mentionsLink:visited,
              footer a#mentionsLink:hover,
              footer a#mentionsLink:active {
                color: #E6E6FA !important;        /* m√™me couleur que le footer */
                font-weight: bold !important;     /* toujours en gras */
                text-decoration: underline !important; /* toujours soulign√© */
              }

                /* iii. Bouton de fermeture unique */
                .overlay-close {
                  display: none;
                  position: fixed;
                  top: 1rem;
                  right: 1rem;
                  border: none;
                  background-color: #000000;
                  font-size: 2rem;
                  cursor: pointer;
                  z-index: 10003;
                  /* Transition pour l‚Äôeffet au survol */
                  transition: transform 0.2s ease, background-color 0.2s ease;
                }
                
                /* Au survol, on augmente √† 1.5 et on ajuste l√©g√®rement la couleur */
                .overlay-close:hover {
                  transform: scale(1.5);
                }                       



/* === PARTIE II / POP-UP / VOIR PLUS / SOUMETTRE === */



/* === II.1.1 Adaptation des popups Leaflet === */

                /* i. Le conteneur de la popup */
                .custom-popup .leaflet-popup-content-wrapper {
                  background: rgba(0, 0, 0, 0.8); /* fond semi-transparent sombre */
                  border: none;                                  /* suppression du contour rouge simple */
                  box-shadow: 0 0 50px #e60000;
                  border-radius: 8px;                            /* coins arrondis conserv√©s */
                  padding: 10px;                                 /* espace interne */
                }
                
                /* ii. Le texte √† l‚Äôint√©rieur */
                .custom-popup .leaflet-popup-content {
                  font-family: 'Im Fell English SC', serif;
                  font-size: 1.5em;                 /* ajuste la taille du texte */
                  line-height: 1.0;               /* espacement des lignes */
                  color: #FFFFE0;                 /* texte clair */
                  margin: 0;
                      text-shadow: 
                    0px 0px 4px rgba(230, 0, 0, 0.8),          /* halo diffus rouge vif */
                    1px 1px 0px rgba(230, 0, 0, 1);             /* l√©g√®re ombre nette en d√©calage */
                }
                
                /* iii. Le ‚Äútriangle‚Äù pointant sur le marqueur */
                .custom-popup .leaflet-popup-tip {
                  background: rgba(0, 0, 0, 0.8);
                }
                
                /* iv. Titre du popup (le <strong> dans popupContent) */
                .custom-popup .leaflet-popup-content strong {
                  display: block;             /* pour prendre toute la largeur */
                  font-size: 1.5em;           /* l√©g√®rement plus gros */
                  font-family: 'Im Fell English SC', serif;
                  font-weight: bold;          /* bien en gras */
                  color: #e60000;             /* rouge DarkMap */
                  text-align: center;         /* centr√© */
                  text-transform: uppercase; /* transforme en majuscule */
                  margin-bottom: 0em;       /* petit espace sous le titre */
                    text-shadow:
                    0px 0px 4px rgba(255, 255, 224, 0.8),  /* halo diffus semi-transparent */
                    1px 1px 0px rgba(255, 255, 224, 1);    /* ombre nette opaque */
                }
                
                /* v. Style sp√©cifique pour le lien ‚ÄúVoir plus‚Äù dans les popups */
                .custom-popup .voir-plus {
                  color: #e60000 !important;       /* m√™me rouge vif que le reste */
                  font-weight: bold !important;    /* gras */
                  text-decoration: underline !important; /* toujours soulign√© */
                  text-shadow: none !important;    /* supprime l‚Äôombre h√©rit√©e */
                }

/* === II.1.2 Scroll PopUP === */

                .custom-popup .leaflet-popup-content {
                  overflow-y: auto;    /* autorise le scroll vertical */
                  overflow-x: auto;  /* le scroll horizontal */
                  /* facultatif : pour une barre plus discr√®te */
                  scrollbar-width: thin;       /* Firefox */
                  scrollbar-color: #e60000 transparent;
                }
                
                /* Chrome, Edge, Safari */
                .custom-popup .leaflet-popup-content::-webkit-scrollbar {
                  width: 6px;
                }
                .custom-popup .leaflet-popup-content::-webkit-scrollbar-thumb {
                  background-color: #e60000;
                  border-radius: 3px;
                }
                .custom-popup .leaflet-popup-content::-webkit-scrollbar-track {
                  background: transparent;
                }

/* === II.2.1 VOIR PLUS === */
                
                /* i. Par d√©faut, on cache le panneau de d√©tail */
                #detailPanel {
                  display: none;
                }
                
                /* ii. Plein √©cran quand visible avec l‚Äôimage bureau.jpg en fond et ambiance DarkMap */
                #detailPanel.visible {
                  display: block;
                  position: fixed;
                  top: 0;
                  left: 0;
                  width: 100vw;           /* largeur totale de la fen√™tre */
                  height: 100vh;          /* hauteur totale de la fen√™tre */
                  background-image: url('icons/bureau.jpg');
                  background-size: cover;     /* l‚Äôimage couvre tout l‚Äôoverlay */
                  background-position: center;/* centrage de l‚Äôimage */
                  background-repeat: no-repeat;
                  filter: brightness(1.8);
                  color: #f0f0f0;             /* texte clair pour le contraste */
                  z-index: 2000;              /* au-dessus des autres √©l√©ments */
                  overflow-y: auto;           /* autorise le scroll vertical du panneau */
                  overflow-x: hidden;         /* emp√™che le scroll horizontal */
                }
                
                /* iii. Un peu de padding quand le panneau est en plein √©cran */
                #detailPanel.full-view {
                  padding: 2rem;
                }
                
/* === II.2.2 Styles internes pour structurer le contenu ‚ÄúVoir plus‚Äù === */
                
                /* 1) Conteneur principal du contenu texte : on passe en Flexbox pour g√©rer 2 colonnes */
                #detailPanel .panel-body {
                  display: flex;
                  flex-wrap: wrap;           /* permet le retour √† la ligne */
                  gap: 1rem;                 /* espace horizontal et vertical entre blocs */
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-size: 1.2em;
                  line-height: 1.0;
                  color: #FFFFE0;            /* jaune tr√®s p√¢le pour le texte */
                  width: 90%;
                  margin: 0 auto;            /* centre horizontalement */
                  text-shadow:
                    0 0 4px rgba(230, 0, 0, 0.8),
                    1px 1px 0 rgba(230, 0, 0, 1);
                }
                
                /* 2) Style du titre de l‚Äôaffaire (le <h2>) dans panel-header */
                #detailPanel .panel-header h2 {
                  margin: 0;
                  font-size: 3em;                 /* m√™me taille qu‚Äôauparavant */
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-weight: bold;
                  color: #e60000;                   /* rouge vif DarkMap */
                  text-align: center;               /* centr√© horizontalement */
                  text-transform: uppercase;        /* tout en majuscules */
                  text-shadow:
                    0 0 4px rgba(255, 255, 224, 0.8),
                    1px 1px 0 rgba(255, 255, 224, 1);
                  width: 100%;                      /* prend toute la largeur du flex */
                  margin-bottom: 1.5rem;
                }
                
                /* 3) Chaque section d‚Äôinformation (r√©sum√©, cat√©gorie, date, etc.) */
                #detailPanel .panel-body .info-section {
                  box-sizing: border-box;
                }
                
                /* 3.1) Premier bloc (r√©sum√©) : occupe 100 % de la largeur */
                #detailPanel .panel-body .info-section.first-section {
                  flex: 0 0 100%;
                  margin-bottom: 1.5rem;    /* espace sous le r√©sum√© */
                }
                
                /* 3.2) Tous les autres blocs : deux par ligne (48 % chacun) */
                #detailPanel .panel-body .info-section:not(.first-section) {
                  flex: 0 0 48%;
                  margin-bottom: 1.5rem;
                }
                
                /* 4) Style des labels (<strong>) dans chaque info-section */
                #detailPanel .panel-body .info-section strong {
                  display: block;                      /* prend toute la largeur du bloc */
                  font-size: 1.2em;
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-weight: bold;
                  color: #e60000;                      /* rouge vif DarkMap */
                  text-transform: uppercase;
                  margin-bottom: 0.2rem;
                  text-shadow:
                    0 0 4px rgba(255, 255, 224, 0.8),
                    1px 1px 0 rgba(255, 255, 224, 1);
                }
                
                /* 5) Style par d√©faut pour les paragraphes (<p>) dans chaque info-section */
                #detailPanel .panel-body .info-section p {
                  margin: 0;
                  font-family: 'IM FELL ENGLISH SC', serif;
                  font-size: 1.2em;
                  line-height: 1.0;
                  color: #FFFFE0;
                  text-shadow:
                    0 0 4px rgba(230, 0, 0, 0.8),
                    1px 1px 0 rgba(230, 0, 0, 1);
                }
                
                /* 6) Style des liens (<a>) √©ventuels dans les info-section */
                #detailPanel .panel-body .info-section a {
                  color: #FEEEE0;           /* jaune tr√®s p√¢le pour les liens */
                  text-decoration: underline;
                  word-break: break-all;
                }
                
                /* 7) Conteneur pour la liste finale de liens et d‚Äôimages associ√©es */
                #detailPanel .links-images {
                  width: 100%;              /* prend toute la largeur (sous les blocs) */
                  margin-top: 1rem;
                }
                
                /* 8) Chaque √©l√©ment (lien ou image) dans la liste */
                #detailPanel .links-images li {
                  margin-bottom: 0.4rem;    /* l√©ger espace vertical */
                  list-style-type: disc;         /* puce classique ‚óè */
                }
                
                /* 9) Style des images associ√©es : responsive et bordure rouge */
                #detailPanel .links-images img {
                  max-width: 100%;
                  height: auto;
                  border: 2px solid #e60000;
                  border-radius: 8px;
                }

/* === II.3 Submit Panel corrig√© === */

                /* 1) D√©finition de l‚Äôoverlay #submitPanel : positionn√© en plein √©cran, cach√© par d√©faut */
                #submitPanel {
                  position: fixed;         /* position au-dessus de tout le contenu */
                  top: 0;                  /* align√© en haut de la fen√™tre */
                  left: 0;                 /* align√© √† gauche de la fen√™tre */
                  width: 100vw;            /* largeur = largeur de la fen√™tre */
                  height: 100vh;           /* hauteur = hauteur de la fen√™tre */
                  /* Chargement de l‚Äôimage de fond submit.jpg depuis le dossier icons (style.css √† la racine) */
                  background-image: url('icons/submit.jpg');
                  background-size: cover;          /* l‚Äôimage couvre tout l‚Äôoverlay */
                  background-position: center;     /* centrage de l‚Äôimage */
                  background-repeat: no-repeat;    /* pas de r√©p√©tition */
                  filter: brightness(1.8);         /*  l√©g√®rement la luminosit√© de l‚Äôimage */
                  overflow: hidden;                /* le scroll se fera uniquement dans #submitContent */
                  z-index: 10000;                  /* au-dessus de tous les autres √©l√©ments */
                  display: none;                   /* invisible tant que la classe .visible n‚Äôest pas appliqu√©e */
                }
                
                /* 2) Affichage de l‚Äôoverlay quand on ajoute la classe .visible */
                #submitPanel.visible {
                  display: block;  /* on passe de display:none √† display:block pour rendre l‚Äôoverlay visible */
                }
                
                /* 3) Styles du <header> interne de #submitPanel : on neutralise la hauteur et on centre le contenu */
                #submitPanel header {
                  height: auto !important;     /* annule toute hauteur pr√©c√©demment d√©finie (ex. 22vh) */
                  margin: 0;                    /* suppression des marges */
                  padding: 0;                   /* suppression des paddings */
                  background: transparent;      /* fond transparent pour laisser voir l‚Äôimage en arri√®re-plan */
                  display: flex;                /* affiche le header en flexbox */
                  flex-direction: column;       /* aligne verticalement les enfants */
                  align-items: center;          /* centre horizontalement les enfants */
                  justify-content: center;      /* centre verticalement les enfants */
                  position: relative;           /* position relative pour g√©rer l‚Äôempilement */
                  z-index: 10001;               /* au-dessus du fond mais sous le contenu scrollable */
                }
                
                /* 4) Style du <h1> dans le header : plac√© en haut, centr√©, avec l‚Äôombre de texte */
                #submitPanel header h1 {
                  margin: 1rem 0 0;             /* espace de 1rem au-dessus pour respirer */
                  font-size: var(--header-h1-font-size);    /* taille dynamique d√©finie par une variable CSS */
                  font-family: 'IM FELL ENGLISH SC', serif; /* police serif immersive de DarkMap */
                  font-weight: 900;             /* texte tr√®s gras */
                  color: var(--header-h1-color);/* couleur dynamique (souvent rouge fonc√© ou jaune p√¢le) */
                  text-shadow:
                    0 0 4px rgba(255, 255, 224, 0.8),  /* halo jaune p√¢le diffus */
                    1px 1px 0 rgba(255, 255, 224, 1);   /* ombre nette opaque juste d√©cal√©e */
                  text-align: center;           /* centr√© horizontalement */
                  position: static;             /* pas de positionnement absolu, reste dans le flux du header */
                  width: auto;                  /* largeur automatique selon le contenu */
                  z-index: auto;                /* pas de modification de l‚Äôempilement */
                }
                
                /* 5) Style de la tagline sous le <h1> : texte secondaire centr√© avec ombre rouge */
                #submitPanel header .tagline {
                  display: block;               /* affichage en bloc pour prendre toute la largeur disponible */
                  margin: 0.5rem 0 1rem;        /* 0.5rem au-dessus, 1rem en dessous pour la s√©paration */
                  font-size: var(--header-tagline-font-size); /* taille dynamique d√©finie par une variable CSS */
                  color: #FFFFE0;               /* couleur jaune tr√®s p√¢le pour contraster */
                  font-family: 'IM FELL ENGLISH SC', serif;    /* m√™me police que le titre pour coh√©rence */
                  font-weight: 700;             /* texte moins gras que le h1 */
                  line-height: 1;               /* interligne de 1 pour compacit√© */
                  text-align: center;           /* centr√© horizontalement */
                  text-shadow:
                    0 0 4px rgba(230, 0, 0, 0.8),   /* halo rouge vif diffus */
                    1px 1px 0 rgba(230, 0, 0, 1);    /* ombre rouge nette d√©cal√©e */
                }
                
                /* 6) Zone interne scrollable (#submitContent) : commence juste sous le titre */
                #submitContent {
                  position: absolute;            /* positionn√© par rapport √† #submitPanel */
                  top: 4rem;                     /* 4rem pour laisser la place du <h1> et de la croix de fermeture */
                  bottom: 0;                     /* s‚Äô√©tire jusqu‚Äôen bas de l‚Äôoverlay */
                  left: 0;                       /* align√© √† gauche */
                  right: 0;                      /* align√© √† droite */
                  overflow-y: auto;              /* scroll vertical si le contenu d√©passe */
                  padding: 1rem;                 /* espace int√©rieur pour le contenu du formulaire */
                }
                
                /* 7) Si #submitContent contenait un <header> interne, on neutralise sa hauteur par d√©faut */
                #submitContent header {
                  height: auto !important;       /* annule toute hauteur forc√©e */
                  margin: 0;                      /* suppression des marges */
                  padding: 0;                     /* suppression des paddings */
                  background: transparent;        /* fond transparent pour laisser voir le scroll */
                }


/* === II.4 STYLES SOUMETTRE INTERNE === */

                /* 1) Style des questions .ask-submit dans le formulaire : police immersive + ombre + couleur DarkMap */
                .ask-submit {
                  font-family: 'IM FELL ENGLISH SC', serif; /* police immersive DarkMap */
                  font-weight: 700;                        /* texte en gras */
                  font-size: 1.2em;                        /* taille confortable */
                  color: #e60000;                          /* rouge vif DarkMap */
                  text-shadow:
                    0 0 4px rgba(255, 255, 224, 0.8),      /* halo jaune p√¢le */
                    1px 1px 0 rgba(255, 255, 224, 1);       /* ombre nette jaune p√¢le */
                  text-transform: uppercase;               /* tout en majuscules pour insister */
                  margin: 0.2em 0;                         /* petit espace vertical autour */
                }
                
                /* 2) Cible du <small> √† l‚Äôint√©rieur des .ask-submit : style plus discret */
                #submitPanel .ask-submit small {
                  color: #FFFFE0;                          /* texte jaune tr√®s p√¢le */
                  font-family: 'IM FELL ENGLISH SC', serif;/* m√™me police immersive */
                  font-size: 0.8em;                        /* taille r√©duite pour texte secondaire */
                  font-style: italic;                      /* italique pour distinction */
                  text-shadow:
                    0 0 4px rgba(230, 0, 0, 0.8),          /* halo rouge vif diffus */
                    1px 1px 0 rgba(230, 0, 0, 1);           /* ombre rouge nette */
                }
                
                /* 3) Grille 2 colonnes (.form-grid) : organise le formulaire en deux colonnes √©gales */
                .form-grid {
                  display: grid;                           /* usage de CSS Grid */
                  grid-template-columns: repeat(2, 1fr);   /* deux colonnes √©gales (1fr + 1fr) */
                  grid-gap: 1.5rem;                        /* espacement de 1.5rem entre les cases */
                }
                
                /* 4) Chaque question+input en .form-group : disposition verticale */
                .form-group {
                  display: flex;                 /* usage de Flexbox */
                  flex-direction: column;        /* empilement vertical des √©l√©ments (question + input) */
                }
                
                /* 5) Si une .form-group utilise grid-column, on lui fait occuper toute la largeur */
                .form-grid > .form-group[style*="grid-column"] {
                  grid-column: 1 / -1;           /* occupe toutes les colonnes (1 √† la derni√®re) */
                }
                
                /* 6) Styles g√©n√©raux pour les champs <input> et <textarea> de classe .form-input */
                input.form-input,
                textarea.form-input {
                  /* a) Texte √† l‚Äôint√©rieur */
                  font-family: 'IM FELL ENGLISH SC', serif; /* m√™me police pour uniformit√© */
                  font-size: 1.5em;             /* taille du texte plus grande */
                  line-height: 1.0;             /* interligne serr√© */
                  color: #FFFFE0;               /* texte jaune tr√®s p√¢le pour contraste */
                  margin: 0;                    /* suppression des marges par d√©faut */
                  text-shadow:
                    0 0 4px rgba(230, 0, 0, 0.8),  /* halo rouge vif diffus */
                    1px 1px 0 rgba(230, 0, 0, 1);   /* ombre rouge nette */
                
                  /* b) Fond sombre et contour lumineux */
                  background: rgba(0, 0, 0, 0.8); /* fond semi-transparent sombre */
                  border: none;                   /* pas de bordure simple */
                  box-shadow: 0 0 50px #e60000;   /* halo rouge autour du champ */
                  border-radius: 8px;             /* coins arrondis */
                
                  /* c) Taille et gestion du scroll */
                  width: 80%;                    /* champ remplit 80% du conteneur parent */
                  max-width: 6000px;             /* largeur maximale pour pr√©venir un d√©bordement extr√™me */
                  height: 1.5em;                 /* hauteur de base pour les <input> */
                  padding: 0;                    /* pas de padding interne pour laisser respirer le texte */
                  box-sizing: border-box;        /* inclut padding et bordure dans la largeur/hauteur */
                  overflow-y: auto;              /* scroll vertical si le contenu d√©passe (utile pour <textarea>) */
                  resize: vertical;              /* permet √† l‚Äôutilisateur de redimensionner verticalement */
                }
                
                /* 7) Hauteur minimale pour les <textarea> de classe .form-input */
                textarea.form-input {
                  min-height: 8em;               /* laisse une zone confortable pour √©crire */
                  overflow-y: auto;              /* scroll vertical si le texte d√©passe cette hauteur */
                }
                
                /* 8) Style du texte indicatif dans les champs (placeholder) */
                input.form-input::placeholder,
                textarea.form-input::placeholder {
                  color: #aaa;   /* gris clair pour le placeholder */
                  opacity: 1;    /* opacit√© maximale pour une meilleure lisibilit√© */
                }
                
                /* 9) Style pour le bouton ‚ÄúSugg√©rer ce lieu‚Äù : fond rouge, texte immersif, halo ext√©rieur */
                .suggest-button {
                  /* a) Texte du bouton */
                  font-family: 'IM FELL ENGLISH SC', serif;  /* m√™me police immersive que le reste */
                  font-size: 1.8em;             /* taille du texte plus grande que les champs */
                  line-height: 1.0;             /* interligne serr√© */
                  text-transform: uppercase;    /* tout en majuscules */
                  color: #FFFFE0;               /* texte jaune tr√®s p√¢le */
                
                  /* b) Fond et contour */
                  background-color: #e60000;    /* fond rouge DarkMap */
                  border: none;                 /* pas de bordure par d√©faut */
                  box-shadow: 0 0 20px #FFFFE0;  /* halo jaune p√¢le autour du bouton */
                  border-radius: 8px;           /* coins arrondis */
                
                  /* c) Espacements et interaction */
                  padding: 0.3em 0.3em;         /* espace int√©rieur autour du texte */
                  cursor: pointer;              /* curseur main au survol */
                  display: inline-block;        /* pour que le fond √©pouse la taille du contenu */
                  transition:
                    background-color 0.2s ease,
                    box-shadow 0.2s ease,
                    transform 0.2s ease;       /* transition douce pour le hover */
                
                  /* d) Hauteur minimale */
                  min-height: 2.4em;            /* emp√™che le bouton d‚Äô√™tre trop fin */
                  box-sizing: border-box;       /* inclut padding et bordure dans les dimensions */
                }
                
                /* 10) Effet hover pour le bouton .suggest-button : grossissement et fond plus sombre */
                .suggest-button:hover {
                  transform: scale(1.3);             /* agrandissement √† 130% */
                  background-color: #cc0000;         /* rouge un peu plus fonc√© au survol */
                  box-shadow: 0 0 60px rgba(230, 0, 0, 0.9); /* halo beige renforc√© */
                }
                
                /* 11) Forcer html et body en plein √©cran sans marges ni scroll global */
                html, body {
                  margin: 0;                    /* suppression des marges par d√©faut */
                  padding: 0;                   /* suppression des paddings par d√©faut */
                  height: 100vh;                /* hauteur de la fen√™tre pour tout l‚Äô√©cran */
                  overflow: hidden;             /* emp√™che le scroll global, on g√®re le scroll interne */
                }
                
                /* 12) Responsive : passe en 1 colonne sous 768px pour la grille du formulaire */
                @media (max-width: 768px) {
                  .form-grid {
                    grid-template-columns: 1fr; /* une seule colonne */
                  }
                }

/* === II.4.2 Styles g√©n√©raux pour les champs <input> et <textarea> de classe .form-input === */

                input.form-input,
                textarea.form-input {
                  /* i. Le texte √† l‚Äôint√©rieur */
                  /* On reprend la m√™me police, taille, interligne et ombre que pour la popup Leaflet */
                  font-family: 'Im Fell English SC', serif;
                  font-size: 1.5em;             /* ajuste la taille du texte */
                  line-height: 1.0;             /* espacement des lignes */
                  color: #FFFFE0;               /* texte clair (jaune tr√®s p√¢le) */
                  margin: 0;                    /* pas de marge interne au composant */
                  text-shadow:
                    0px 0px 4px rgba(230, 0, 0, 0.8),  /* halo diffus rouge vif */
                    1px 1px 0px rgba(230, 0, 0, 1);    /* l√©g√®re ombre nette en d√©calage */
                
                  /* ii. Le fond sombre et le contour lumineux (wrapper) */
                  background: rgba(0, 0, 0, 0.8); /* fond semi-transparent sombre */
                  border: none;                   /* suppression du contour rouge simple */
                  box-shadow: 0 0 20px #e60000;   /* grand halo rouge autour du champ */
                  border-radius: 8px;             /* coins arrondis identiques √† la popup */
                
                  /* iii. Gestion de la taille et du d√©filement (scroll) */
                  width: 80%;                    /* le champ remplit la largeur du conteneur parent */
                  max-width: 6000px;               /* largeur maximale personnalisable */
                  /* Hauteur de base (pour <input>), mais on peut ramener √† auto si besoin */
                  height: 1.5em;                  
                  padding: 0px;                  /* espace int√©rieur √©quivalent √† la popup */
                  box-sizing: border-box;         /* inclut padding et bordure dans la largeur/hauteur */
                
                  overflow-y: auto;               /* si le texte d√©passe (surtout pour <textarea>), on peut d√©filer verticalement */
                  resize: vertical;               /* si c‚Äôest un <textarea>, on autorise le redimensionnement vertical */
                }
                
                /* iv. text-area */
                textarea.form-input {
                  min-height: 8em;               /* hauteur minimale pour laisser respirer le texte */
                  /* Si le contenu d√©passe, la scrollbar verticale appara√Ætra */
                  overflow-y: auto;
                }
                
                input.form-input::placeholder,
                textarea.form-input::placeholder {
                  color: #aaa;   /* gris clair pour le texte indicatif */
                  opacity: 1;    /* s‚Äôassurer que c‚Äôest pleinement visible */
                }

/* === II.4.3 Style pour le bouton ‚ÄúSugg√©rer ce lieu‚Äù dans le m√™me esprit que .form-input, mais en 1.6em sur fond rouge. === */

                .suggest-button {
                  /* i. Texte : m√™me police, taille 1.6em, texte clair avec ombre rouge */
                  font-family: 'Im Fell English SC', serif;
                  font-size: 1.8em;             /* taille plus grande que 1.5em */
                  line-height: 1.0;             /* espacement des lignes */
                  text-transform: uppercase;
                  color: #FFFFE0;               /* texte clair (jaune tr√®s p√¢le) */
                
                  /* ii. Fond rouge, coins arrondis, halo ext√©rieur */
                  background-color: #e60000;    /* rouge DarkMap */
                  border: none;                 /* on enl√®ve tout contour par d√©faut */
                  box-shadow: 0 0 50px #FEEEE0; /* grand halo autour du bouton */
                  border-radius: 8px;           /* m√™mes coins arrondis que .form-input */
                
                  /* iii. Espacements int√©rieurs et dimensions */
                  padding: 0.3em 0.3em;           /* espace autour du texte */
                  cursor: pointer;              /* pointeur main au survol */
                  display: inline-block;        /* pour que le fond √©pouse la taille du contenu + padding */
                
                  /* iv. Transition incluant le transform pour l‚Äôeffet de grossissement */
                  transition:
                    background-color 0.2s ease,
                    box-shadow 0.2s ease,
                    transform 0.2s ease;
                
                  /* v. Hauteur minimale pour que le bouton ne soit pas trop √©troit */
                  min-height: 2.4em;
                  box-sizing: border-box;       /* inclut le padding dans la largeur/hauteur */
                }
                
                /* Effet au survol : le bouton grossit √† 1.5√ó et on peut aussi assombrir l‚Äôarri√®re-plan */
                .suggest-button:hover {
                  transform: scale(1.3);              /* grossissement √† 130% */
                  background-color: #cc0000;          /* rouge un peu plus fonc√© au survol */
                  box-shadow: 0 0 60px rgba(230, 0, 0, 0.9); /* halo rouge renforc√© */
                }

/* === II.4.4 CORRECTIONS SOUMETTRE === */

                /* 1) Forcer html/body en plein √©cran sans marges ni scroll global */
                html, body {
                  margin: 0;
                  padding: 0;
                  height: 100vh;
                  overflow: hidden;
                }
                

/* === PARTIE III / PERSONNALISATION BOUTONS / STYLES === */


/* === III.1.1 PERSONNALISATION DU BOUTON DE CHANGEMENT DE CARTE (Contr√¥le Leaflet) === */

                .leaflet-control-layers {
                  color: #1a001a; /* texte sombre pour le contraste */
                  font-family: 'Quicksand', sans-serif; font-weight: 700;  
                }

/* === III.1.2 PERSONNALISATION DU BOUTON DE LOCALISATION (Emoji Direct Hit Visible et Cliquable) === */

                  .leaflet-control-locate {
                    background-color: transparent !important; /* Fond transparent */
                    border: none !important; /* Pas de bordure */
                    padding: 0 !important; /* Pas de rembourrage */
                    width: auto !important; /* Ajuster la largeur au contenu */
                    height: auto !important; /* Ajuster la hauteur au contenu */
                    cursor: pointer; /* Curseur "main" */
                    text-align: center !important; /* Centrer l'emoji */
                    overflow: visible !important; /* Emp√™cher d√©bordement */
                    display: flex !important; /* Utiliser flex pour centrer */
                    justify-content: center !important; /* Centrage horizontal */
                    align-items: center !important; /* Centrage vertical */
                  }
                  
                  .leaflet-control-locate .leaflet-bar-part-single {
                    background-color: transparent !important;
                    border: none !important;
                    padding: 0px !important; /* Un peu de padding pour l'interaction */
                    width: auto !important;
                    height: auto !important;
                    cursor: pointer;
                    text-align: center !important;
                    font-size: 2.5em !important; /* Taille de l'emoji */
                    line-height: 1 !important; /* Centrage vertical */
                    color: inherit !important; /* IMPORTANT : H√©riter de la couleur pour rendre l'emoji visible */
                    text-shadow: none !important;
                    display: flex !important; /* Utiliser flex pour centrer */
                    justify-content: center !important; /* Centrage horizontal */
                    align-items: center !important; /* Centrage vertical */
                  }
                  
                  /* i. Afficher l'emoji comme contenu de l'√©l√©ment <a>  */
                  .leaflet-control-locate .leaflet-bar-part-single::before {
                    content: "üéØ" !important; /* Emoji direct hit */
                    display: block !important; /* Important pour que le pseudo-√©l√©ment prenne de la place */
                    width: 100%;
                    height: 100%;
                    line-height: inherit !important; /* H√©riter pour le centrage vertical */
                    font-size: inherit !important; /* H√©riter de la taille d√©finie sur l'<a> */
                    text-align: center !important; /* S'assurer que l'emoji est centr√© */
                    transition: transform 0.2s ease;  /* Animation douce */  
                    /* On ne d√©finit pas de couleur ici, on h√©rite de celle de l'√©l√©ment <a> */
                  }
                  
                  .leaflet-control-locate .leaflet-bar-part-single:hover::before {
                    transform: scale(1.5); /* ‚úÖ effet de grossissement uniquement au survol */
                  }

/* === III.1.3 PERSONNALISATION DU BOUTON DE CHANGEMENT DE FOND DE CARTE AVEC UN EMOJI üó∫Ô∏è === */

                .leaflet-control-layers-toggle {
                  background-color: transparent !important;
                  background-image: none !important;
                  width: auto !important;
                  height: auto !important;
                  border: none !important;
                  font-size: 2.5em !important;
                  line-height: 1 !important;
                  display: flex !important;
                  justify-content: center !important;
                  align-items: center !important;
                  cursor: pointer;
                  color: inherit !important;
                  z-index: 1000 !important;
                }
                
                .leaflet-control-layers-toggle::before {
                  content: "üó∫Ô∏è";
                  display: block;
                  font-size: inherit;
                }

/* === III.1.4 PERSONNALISATION DU BOUTON DE / FULLSCREEN / SOUMETTRE === */

                #randomButton {
                    background-color: transparent !important;
                    border: none !important;
                    padding: 0px !important;
                    width: auto !important;
                    height: auto !important;
                    cursor: pointer;
                    text-align: center !important;
                    font-size: 2.5em !important; /* m√™me que üéØ */
                    line-height: 1 !important;
                    color: inherit !important;
                    text-shadow: none !important;
                    display: flex !important;
                    justify-content: center !important;
                    align-items: center !important;
                    /* Suppression de la marge ici, le positionnement se fera via Leaflet */
                    overflow: visible !important; /* üî• emp√™che le rognage */
                    transition: transform 0.2s ease; /* Ajout de la transition pour l'effet au survol */
                }
                
                #randomButton:hover {
                    transform: scale(1.5);
                }
                
                #fullscreenButton {
                    background-color: transparent !important;
                    border: none !important;
                    padding: 0px !important;
                    width: auto !important;
                    height: auto !important;
                    cursor: pointer;
                    text-align: center !important;
                    font-size: 2.5em !important;
                    line-height: 1 !important;
                    color: inherit !important;
                    text-shadow: none !important;
                    display: flex !important;
                    justify-content: center !important;
                    align-items: center !important;
                    overflow: visible !important;
                    transition: transform 0.2s ease;
                }
                
                #fullscreenButton:hover {
                    transform: scale(1.5);
                }

/* === III.1.4 bis ‚Äì Personnalisation de l‚Äôemoji üìú en bas √† droite === */

                  /* 1) Autorise le d√©bordement pour ne pas rogner la mise √† l‚Äô√©chelle */
                  .leaflet-control-container,
                  .leaflet-bar {
                    overflow: visible !important;
                  }
                  
                  /* 2) Cible le conteneur bottom-right natif de Leaflet */
                  .leaflet-bottom.leaflet-right {
                    display: block !important;   /* bloque le flex par d√©faut pour un stacking simple */
                  }
                  
                  /* 3) Style identique au fullscreenButton pour le contr√¥le submit-story */
                  .leaflet-bottom.leaflet-right .submit-story-control {
                    background-color: transparent !important;
                    border: none !important;
                    padding: 0 !important;
                    width: auto !important;
                    height: auto !important;
                    cursor: pointer;
                    text-align: center !important;
                    font-size: 2.5em !important;     /* m√™me taille que üéØ, üó∫Ô∏è, Random‚Ä¶ */
                    line-height: 1 !important;
                    color: inherit !important;
                    text-shadow: none !important;
                    display: flex !important;
                    justify-content: center !important;
                    align-items: center !important;
                    transition: transform 0.2s ease;
                    margin-bottom: 0.5em !important; /* espace exactement identique avec fullscreen */
                  }
                  
                  /* 4) Hover = scale(1.5) */
                  .leaflet-bottom.leaflet-right .submit-story-control:hover {
                    transform: scale(1.5);
                  }

/* === III.2 STYLES DIVERSES === */

/* === III.2.1 Marqueurs emoji === */

                .emoji-marker {
                  font-size: 16px; /* Taille des marqueurs emoji */
                  background: none; /* Pas de fond */
                  border: none; /* Pas de bordure */
                  box-shadow: none; /* Pas d'ombre */
                  width: auto; /* Taille automatique */
                  height: auto; /* Taille automatique */
                  line-height: 1; /* Hauteur de ligne pour centrer */
                  color: inherit; /* Couleur h√©rit√©e du parent */
                }

                /* i. On vise le conteneur de l‚Äôemoji et on pr√©pare une transition fluide */
                .emoji-marker {
                  display: inline-block;           /* n√©cessaire pour que transform fonctionne correctement */
                  transform-origin: center center; /* pivote et agrandit depuis le centre */
                  transition: transform 0.2s ease; /* lissage de l‚Äôanimation */
                }
                
                /* ii. Au survol, on augmente la taille √† 1.5√ó */
                .emoji-marker:hover {
                  transform: scale(1.5);
                }
                
/* === III.2.2 Style pour la l√©gende sans ombre et coins arrondis === */

                .info.legend {
                  color: #FFFFE0;  /* Couleur */
                  padding: 0px;  /* Espace interne autour du texte */
                  font-size: 16px;  /* Taille du texte */
                  font-family: 'Im Fell English SC', serif;
                  line-height: 1.0;  /* Hauteur de ligne pour am√©liorer la lisibilit√© */
                    text-shadow: 
                    0px 0px 4px rgba(230, 0, 0, 0.8),          /* halo diffus rouge vif */
                    1px 1px 0px rgba(230, 0, 0, 1);             /* l√©g√®re ombre nette en d√©calage */
                }
                
                /* i. Style pour chaque √©l√©ment de la l√©gende */
                .legend-item {
                  display: flex;
                  align-items: center;
                  margin-bottom: 4px;
                }
                
                /* ii. Style pour l'emoji dans la l√©gende */
                .legend-item .emoji {
                  font-size: 16px;
                  margin-right: 2px;
                }
                
                /* iii. Style pour le nom de la cat√©gorie */
                .legend-item .category-name {
                  font-size: 16px;
                  font-weight: bold;
                }

/* === III.2.3 Styles sp√©cifiques pour les mentions l√©gales (charg√©es dans #detailContent) === */

                /* 1) Fond ‚Äúpanneau.jpg‚Äù sur tout le panneau (#detailPanel) */
                #detailPanel.visible.legal {
                  background-image: url('icons/panneau.jpg');
                  background-size: cover;
                  background-position: center;
                  background-repeat: no-repeat;
                }
                
                /* 2) Contenu (#detailContent) en pleine largeur + texte centr√© */
                #detailPanel.visible.legal #detailContent {
                  background: transparent;
                  
                  /* On passe en bloc normal pour que les paragraphes fassent 100% de la largeur dispo */
                  display: block;
                  width: 90vw;            /* ou 100% selon votre besoin */
                  max-width: 800px;       /* limite pratique pour la lisibilit√© */
                  margin: 0 auto;         /* centre horizontalement #detailContent */
                  
                  padding: 40px 20px;
                  box-sizing: border-box; /* inclut le padding dans la largeur */
                
                  /* Pour emp√™cher tout d√©bordement horizontal */
                  overflow-x: hidden;
                
                  color: #f0f0f0;
                  font-family: 'Cormorant Garamond', serif;
                  line-height: 1.6;
                  text-align: center;     /* centre le texte √† l‚Äôint√©rieur des <h2>, <p>, etc. */
                }
                
                /* 3) Forcer chaque bloc textuel √† ne pas d√©passer et √† se casser correctement */
                #detailPanel.visible.legal #detailContent h2,
                #detailPanel.visible.legal #detailContent p,
                #detailPanel.visible.legal #detailContent ul,
                #detailPanel.visible.legal #detailContent li {
                  width: 100%;
                  box-sizing: border-box;
                  word-break: break-word;  /* d√©coupe les mots trop longs */
                  margin-bottom: 1rem;     /* espacement standard entre les blocs */
                }
                
                /* 4) Titres <h2> en #E6E6FA dans le contexte ‚Äúmentions l√©gales‚Äù */
                #detailPanel.visible.legal #detailContent h2 {
                  color: #E6E6FA;
                }
                
                /* 5) Liens <a> restent rouges pour coh√©rence */
                #detailPanel.visible.legal #detailContent a {
                  color: #e60000;
                  text-decoration: underline;
                }

/* === III.2.4 Positionnement des contr√¥les en haut √† droite === */

                .leaflet-topright {
                    display: flex; /* Utiliser flex pour aligner les √©l√©ments verticalement */
                    flex-direction: column; /* Aligner les √©l√©ments en colonne */
                    align-items: flex-end; /* Aligner les √©l√©ments √† droite */
                    gap: 10px; /* Espacement vertical entre les boutons */
                    padding: 10px; /* Marge autour du groupe de boutons */
                }
                
                .leaflet-control-custom {
                    overflow: visible !important; /* üî• Leaflet limite parfois la taille √† cause de √ßa */
                }



/* === PARTIE IV / ADAPTATIONS === */



/* === IV.I ‚â§ 768px === */
                @media (max-width: 768px) {
                  /* 1. Autoriser le scroll si besoin (corps de page) */
                  html,
                  body {
                    overflow-y: auto;          /* Permettre le d√©filement vertical quand le contenu d√©passe */
                    -webkit-overflow-scrolling: touch; /* Fluidit√© du scroll sur iOS */
                  }
                
                  /* 2. Carte responsive : largeur toujours √† 90% de la page, hauteur libre si besoin */
                  #map {
                    width: 90vw;               /* 90% de la largeur de l‚Äô√©cran */
                    max-width: 600px;          /* Pour √©viter une carte trop large sur √©crans interm√©diaires */
                    margin: 0 auto;            /* Centrer horizontalement */
                    border-radius: 8px;
                  }
                
                  /* 3. Boutons sur la carte (zoom, localisation, submit, etc.) */
                  .btn-locate {
                    font-size: 2em !important; /* R√©duction √† 2em */
                    padding: 0.3em 0.5em;       /* Ajuster le padding si n√©cessaire */
                  }
                
                  /* 4. Popup Leaflet :
                   .leaflet-popup-content-wrapper {
                            /* largeur √† 60% de la carte (qui fait 90% de la page) */
                            max-width: 300px !important;
                            /* on fixe une hauteur max √† 60% de la hauteur d'√©cran */ 
                            max-height: 300px;
                            /* le wrapper devient scrollable si le contenu d√©passe 60vh */
                            overflow-y: auto;
                            /* fond noir opaque (ou tu peux mettre rgba(0,0,0,0.8) si tu veux semi-transparent) */
                            background-color: #000;
                            /* on inclut le padding dans la bo√Æte pour que le fond englobe tout */
                            box-sizing: border-box;
                            padding: 0.6em 0.8em;
                            border-radius: 6px;
                            /* pour s‚Äôassurer que le fond prenne bien toute la largeur/hauteur calcul√©e */
                            display: block;
                          }
                        
                          .leaflet-popup-content {
                            /* on remet la taille du texte souhait√©e */
                            font-size: 1rem !important;
                            line-height: 1.2em !important;
                            /* pour √©viter que certains mots longs ou URL d√©passent du conteneur */
                            word-break: break-word;
                          }
                                        
                  /* 5. InfoLegend */
                  .info-legend {
                    font-size: 0.8em;            /* R√©duit la taille de tout le texte de la l√©gende */
                    line-height: 1.1em;          /* Conserver un interligne coh√©rent */
                  }
                  .info-legend .line8 {
                    font-size: 0.8em;            /* M√™me r√©glage pour l‚Äô√©l√©ment sp√©cifique ‚Äûline8‚Äú */
                  }
                  .info-legend .legend-emoji {
                    font-size: 0.8em;            /* R√©duction de l‚Äôemoji */
                    vertical-align: middle;      /* Pour que l‚Äôemoji reste bien align√© avec le texte */
                  }

                  /* 1. R√©duire la taille du texte d‚Äôintro de 1.2em ‚Üí 1.0em */
                  .intro {
                    font-size: 1.0em; /* passe de 1.2em √† 1.0em */
                    /* marges/paddings d√©j√† g√©r√©s pr√©c√©demment */
                  }
                
                  /* 2. Dans l‚Äôintro, r√©duire .line8 de 20 % :
                        si .line8 h√©ritait de 1.0em (apr√®s r√©duction), on le passe √† 0.8em */
                  .intro .line8 {
                    font-size: 0.8em; /* 20 % de moins qu‚Äô1.0em */
                  }
                
                  /* 3. R√©duire la taille du footer de 0.8em ‚Üí 0.6em */
                  footer {
                    font-size: 0.6em; /* passe de 0.8em √† 0.6em */
                  }
                
                  /* 4. Dans le footer, r√©duire .line8 ¬´ un petit peu ¬ª (20 % de 0.6em = 0.48em) */
                  footer .line8 {
                    font-size: 0.48em; /* 20 % de moins que 0.6em */
                  }
                }
                                

/* === IV.3 Surcharge de carte r√©gl√©e en dernier pour prendre le pas === */

              body > #map {
                height: var(--map-height) !important;  /* prendra comme d√©fini dans :root */
              }
